<p-toast />

  <div  class="bg-white rounded-lg shadow-lg overflow-hidden">
    <div class="px-6 py-8">
      <h2 class="text-2xl font-bold text-center text-gray-800 mb-4">₹ {{ plan.name }}</h2>
      <p class="text-center text-4xl font-bold text-gray-900 mb-6">₹ {{ plan.price }}<span class="text-base font-medium text-gray-500">/mo</span></p>
      <ul class="text-sm text-gray-600 mb-8">
        <li *ngFor="let feature of plan.features" class="mb-2 flex items-center">
          <svg class="h-5 w-5 text-green-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
          </svg>
          {{ feature }}
        </li>
      </ul>
    </div>
    <div class="px-6 pb-8">
      <button 
        (click)="redirectToCheckOut(plan.priceId,plan._id)"
        [ngClass]="{
          'bg-blue-500 hover:bg-blue-600': !plan.users.includes(userId),
          'bg-gray-300 cursor-not-allowed': plan.users.includes(userId)
        }"
        class="w-full px-4 py-2 text-white font-bold rounded-md transition duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50"
        [disabled]="plan.users.includes(userId)"
      >
        {{ plan.users.includes(userId) ? 'Current Plan' : 'Buy Now' }}
      </button>
    </div>
    <div *ngIf="plan.users.includes(userId)" class="bg-green-100 px-6 py-2 text-center text-green-800 text-sm font-medium">
      Your Current Plan
    </div>
  </div>
